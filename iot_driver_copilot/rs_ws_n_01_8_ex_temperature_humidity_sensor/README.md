RS-WS-N01-8-EX Modbus RTU to HTTP Driver

Overview
- This driver connects to the RS-WS-N01-8-EX temperature/humidity sensor over Modbus RTU and exposes simple HTTP endpoints to retrieve the latest readings.
- It runs a background collection loop with retries and exponential backoff, keeps a thread-safe buffer of the latest values, and serves them as plain text over HTTP.

Endpoints
- GET /temperature  -> returns the latest temperature as plain text
- GET /humidity     -> returns the latest humidity as plain text

Quick Start
1) Install Python dependencies:
   pip install flask pymodbus

2) Configure via environment variables (example):
   export HTTP_HOST=0.0.0.0
   export HTTP_PORT=8000
   export MODBUS_PORT=/dev/ttyUSB0
   export MODBUS_BAUDRATE=9600
   export MODBUS_PARITY=N
   export MODBUS_STOPBITS=1
   export MODBUS_BYTESIZE=8
   export MODBUS_SLAVE_ID=1
   export MODBUS_TIMEOUT_SEC=2
   export POLL_INTERVAL_SEC=2
   export BACKOFF_INITIAL_SEC=1
   export BACKOFF_MAX_SEC=30
   export MODBUS_FUNC=holding
   export TEMP_REG_ADDR=1
   export HUM_REG_ADDR=2
   export REG_COUNT=1
   export SCALE_TEMP=1.0
   export SCALE_HUM=1.0
   export SIGNED_TEMP=true
   export SIGNED_HUM=false

3) Run the driver:
   python driver.py

4) Read data via HTTP:
- Temperature:
  curl http://localhost:8000/temperature
- Humidity:
  curl http://localhost:8000/humidity

Notes
- MODBUS_FUNC can be 'holding' (FC=3) or 'input' (FC=4).
- Register addresses (TEMP_REG_ADDR, HUM_REG_ADDR) are zero-based as used by most Modbus libraries. Adjust according to your device map.
- If your device returns scaled integers (e.g., 235 -> 23.5Â°C), set SCALE_TEMP or SCALE_HUM accordingly (e.g., 0.1). Defaults are 1.0 to return raw device values as plain text.
- REG_COUNT supports 1 or 2 words. Signed interpretation can be toggled with SIGNED_TEMP/SIGNED_HUM.
- The background loop implements timeout, retry, and exponential backoff; logs will indicate connection status and errors.

Generated by [IoT Driver Copilot](https://copilot.test.shifu.dev/)
